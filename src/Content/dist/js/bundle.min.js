window.addEventListener("scroll",function(){500<=window.scrollY?document.getElementById("nav").classList.remove("home"):document.getElementById("nav").classList.add("home")}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("loopingVideo");let t=0;function n(){t=$(window).width()<768?(e.src=videoMobileFiles[t],e.currentTime=0,e.play(),(t+1)%videoMobileFiles.length):(e.src=videoFiles[t],e.currentTime=0,e.play(),(t+1)%videoFiles.length)}e.addEventListener("ended",()=>{$(window).width()<768?1===videoMobileFiles.length?(e.currentTime=0,e.play()):n():1===videoFiles.length?(e.currentTime=0,e.play()):n()}),n()}),gsap.registerPlugin(ScrollTrigger),gsap.from("#svg3",{x:-100,y:-100,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:"#component2",start:"top 40%",toggleActions:"play none none none"}});let tlSvg4Intro=gsap.timeline({scrollTrigger:{trigger:"#component2",start:"top 40%",toggleActions:"play none none none"}}),tlCards=(tlSvg4Intro.from("#svg4",{x:300,y:300,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible"}).from("#intro-copy1",{y:50,opacity:0,duration:.5,ease:"power2.out",visibility:"visible"}).from("#intro-copy2",{y:50,opacity:0,duration:.7,ease:"power2.out",visibility:"visible"}),gsap.timeline({scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}));function showPlanModal(){document.getElementById("planModalOverlay").style.display="flex"}function hidePlanModal(){document.getElementById("planModalOverlay").style.display="none"}function showMovieModal(){document.getElementById("movieModalOverlay").style.display="flex"}function hideMovieModal(){document.getElementById("movieModalOverlay").style.display="none"}gsap.from("#card1",{x:-300,y:-600,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card2",{x:-200,y:-900,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card3",{x:-100,y:-1300,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card4",{x:100,y:-600,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),gsap.from("#card5",{x:200,y:-400,opacity:0,duration:1.2,ease:"power2.out",visibility:"visible",scrollTrigger:{trigger:".component-flipping-cards",start:"top 80%",toggleActions:"play none none none"}}),function(){const s=document.querySelector(".cards-container");if(s){const v=Array.from(s.querySelectorAll(".flip-card"));let o=0,t=0,n;s.addEventListener("touchstart",function(e){t=e.changedTouches[0].screenX}),s.addEventListener("touchend",function(e){n=e.changedTouches[0].screenX,e=t-n,50<Math.abs(e)&&(0<e?d:u)()});let i=0,a=0,c=!1;function l(){return window.innerWidth<=600?1:5}function r(){const n=l();v.forEach((e,t)=>{t>=o&&t<o+n?e.style.display="":e.style.display="none"})}function d(){var e=l();o+e<v.length&&(o++,r(),m())}function u(){0<o&&(o--,r(),m())}function m(){const e=document.querySelector(".prev-button"),t=document.querySelector(".next-button");var n=l();e&&(0===o?e.classList.add("hide"):e.classList.remove("hide")),t&&(o+n>=v.length?t.classList.add("hide"):t.classList.remove("hide"))}function g(){var e=i-a;50<Math.abs(e)&&(0<e?d:u)()}s.addEventListener("mousedown",function(e){i=e.clientX,c=!0,s.style.cursor="grabbing",e.preventDefault()}),s.addEventListener("mousemove",function(e){c&&e.preventDefault()}),s.addEventListener("mouseup",function(e){c&&(a=e.clientX,c=!1,s.style.cursor="grab",g())}),s.addEventListener("mouseleave",function(e){c&&(a=e.clientX,c=!1,s.style.cursor="grab",g())}),s.style.cursor="grab",document.querySelector(".next-button").addEventListener("click",d),document.querySelector(".prev-button").addEventListener("click",u),window.addEventListener("resize",function(){var e=l();o+e>v.length&&(o=Math.max(0,v.length-e)),r(),m()}),r(),m()}}(),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".plan-your-visit").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),showPlanModal()})}),document.getElementById("closePlanModal").addEventListener("click",hidePlanModal),document.getElementById("planModalOverlay").addEventListener("click",function(e){e.target===this&&hidePlanModal()})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("svg-chart"),t=document.getElementById("svg-chart-accelerated"),n=document.getElementById("svg-chart-accelerated-desc"),o=document.getElementById("svg-chart-accelerated-arrow"),i=document.getElementById("svg-chart-normal"),a=document.getElementById("svg-chart-normal-desc"),c=document.getElementById("svg-chart-normal-arrow"),s=document.getElementById("svg-chart-super"),d=document.getElementById("svg-chart-super-desc"),l=document.getElementById("svg-chart-super-arrow");function r(){gsap.timeline().to(c,{scale:1,duration:.8,ease:"back.out(1.7)"},"+=0.05").to(i,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(a,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(o,{scale:1,duration:.8,ease:"back.out(1.7)"}).to(t,{opacity:1,duration:.3,ease:"back.out(1.7)"}).to(n,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(c,{opacity:.3,duration:.3,ease:"back.out(1.7)"},"+=0.05").to(i,{opacity:.3,duration:.3,ease:"back.out(1.7)"}).to(a,{opacity:.3,duration:.3,ease:"back.out(1.7)"}).to(l,{scale:1,duration:.8,ease:"back.out(1.7)"},"+=0.05").to(s,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(d,{opacity:1,duration:.8,ease:"back.out(1.7)"}).to(o,{opacity:.3,duration:.3,ease:"back.out(1.7)"}).to(t,{opacity:.3,duration:.3,ease:"back.out(1.7)"}).to(n,{opacity:.3,duration:.3,ease:"back.out(1.7)"})}gsap.set([o,c,l],{transformOrigin:"50% 50%",scale:0}),e.addEventListener("mouseenter",r),"undefined"!=typeof ScrollTrigger&&ScrollTrigger.create({trigger:e,start:"top 80%",once:!0,onEnter:r}),e.addEventListener("mouseleave",function(){})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".video").forEach(function(e){e.addEventListener("click",function(e){showMovieModal()})}),document.getElementById("closeMovieModal").addEventListener("click",hideMovieModal),document.getElementById("movieModalOverlay").addEventListener("click",function(e){e.target===this&&hideMovieModal()})}),window.gsap&&window.ScrollTrigger&&gsap.utils.toArray(".section").forEach(function(e){gsap.set(e,{autoAlpha:0,y:60}),gsap.to(e,{autoAlpha:1,y:0,duration:.8,ease:"power2.out",scrollTrigger:{trigger:e,start:"top 70%",toggleActions:"play none none reverse",once:!1}})}),document.addEventListener("DOMContentLoaded",function(){console.log("DOM fully loaded and parsed");const e=document.querySelector(".play-timeline-button"),t=document.querySelector(".timeline-container"),n=(e&&t&&e.addEventListener("click",function(){$(t).animate({scrollLeft:t.scrollWidth},15e3,"swing")}),document.querySelector(".play-team-button")),o=document.querySelector(".team-members");n&&o&&n.addEventListener("click",function(){$(o).animate({scrollLeft:o.scrollWidth},5e3,"swing")})}),document.addEventListener("DOMContentLoaded",function(){$(".slides-nav-item").click(function(){var e;window.innerWidth<786?($(".slides-nav-item").removeClass("active"),$(this).addClass("active"),e=$(this).find(".content-container"),$(".slides-nav-item .content-container").not(e).slideUp(200),e.length&&(e.is(":visible")?e.stop(!0,!0).slideUp(200):e.stop(!0,!0).slideDown(300))):($(".slides-nav-item").removeClass("active"),$(this).addClass("active"),e=$(this).data("slide"),(e=$("."+e)).length&&($(".slide").removeClass("show"),$(e).addClass("show")))})}),document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("menuIcon"),n=document.getElementById("mobileMenu"),e=document.getElementById("closeIcon");function o(){gsap.to(n,{x:"-100%",opacity:0,duration:.3,ease:"power2.in",onComplete:function(){n.style.display="none"}}),t.setAttribute("aria-expanded","false"),n.setAttribute("aria-hidden","true")}t&&n&&(t.addEventListener("click",function(){var e="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!e),n.setAttribute("aria-hidden",e),e?o():(n.style.display="block",gsap.fromTo(n,{x:"-100%",opacity:0},{x:"0%",opacity:1,duration:.3,ease:"power2.out"}))}),e&&e.addEventListener("click",function(){o()}))}),$(".timeline-nav-item").click(function(){var e=$(this).data("index")||1,t=$(".component-timeline-mobile .timeline-nav-item").length,e=($(".nav-info-index").text(e+"/"+t),$(".nav-info-title").text($(this).find("span").text()),console.log("clicked",$(this).data("event")),$(this).data("event")),t=($(".timeline-nav-item").removeClass("active"),$(this).addClass("active"),$(".image-container").removeClass("active"),$(".info-item").removeClass("active"),$('.image-container[data-event="'+e+'"]').addClass("active"),$('.info-item[data-event="'+e+'"]').addClass("active"),e),e=$("#"+t);e.length&&(t=$(e)[0].offsetLeft+($(e).find(".inset-text-cta").position()?.left||0)-50,console.log("scrolling to",t),$(".timeline-container").animate({scrollLeft:t},3e3))}),$(document).ready(function(){$(".timeline-nav-bottom .menu-icon").click(function(){const e=$(".timeline-nav-items"),t=$(this),n=$(".timeline-nav-bottom .menu-close");e.slideDown(400,function(){t.hide(),n.show()})}),$(".timeline-nav-bottom .menu-close").click(function(){const e=$(".timeline-nav-items"),t=$(".timeline-nav-bottom .menu-icon"),n=$(this);e.slideUp(400,function(){t.show(),n.hide()})})});